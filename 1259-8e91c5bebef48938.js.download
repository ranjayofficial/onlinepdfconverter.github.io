"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1259],{71259:(e,t,i)=>{i.r(t),i.d(t,{default:()=>e5});var s=i(74848),l=i(91703),n=i(19427),a=i(82058),r=i(96540),o=i(37318),d=i(73688),c=i(22913),p=i(47863),h=i(76835),u=i(3508),g=i(66247),x=i(94191),m=i(55451),j=i(12832),b=i(67528),v=i(49518);let y=r.forwardRef(function(e,t){return(0,s.jsx)(h.A,{direction:"down",ref:t,...e})}),A=e=>{let t=(0,o.wA)(),i=(0,o.d4)(e=>e.user.editorFontSize)||14,l=(0,o.d4)(e=>e.user.editorDisableAutoComplete)||!1;return(0,s.jsxs)(u.A,{fullWidth:!0,maxWidth:"sm",onClose:()=>{e.onClose()},TransitionComponent:y,open:e.open,children:[(0,s.jsxs)(a.Ay,{container:!0,style:{paddingLeft:20,paddingRight:20,marginTop:20},children:[(0,s.jsxs)(g.A,{variant:"h6",component:"h1",gutterBottom:!0,color:"secondary",children:[" ","Editor Settings"," "]}),(0,s.jsx)("br",{}),(0,s.jsx)(x.A,{}),(0,s.jsx)("br",{}),(0,s.jsx)(m.A,{id:"outlined-multiline-flexible",style:{padding:10},required:!0,size:"small",type:"number",margin:"normal",variant:"outlined",label:"Font Size (8-32)",fullWidth:!0,value:i,onChange:e=>t((0,v.HM)(e.target.value)),slotProps:{htmlInput:{min:"8",max:"32"}}}),(0,s.jsx)(j.A,{labelPlacement:"start",control:(0,s.jsx)(b.A,{checked:l,onChange:e=>t((0,v.h$)(e.target.checked)),name:"autoCompleteToggle",color:"primary"}),label:"Disable Code Autocomplete/ Suggestions"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})};var f=i(45931),C=i(2424),w=i(52064),k=i(39641),O=i(61818),S=i(77861),I=i(5556),T=i.n(I);i(87976);let R=r.forwardRef(function(e,t){return(0,s.jsx)(h.A,{direction:"down",ref:t,...e})});class F extends r.Component{render(){let{classes:e}=this.props,{onClose:t,selectedValue:i,...n}=this.props,{value:r}=this.state,o=[];return this.props.availableLanguages?this.props.availableLanguages.length:Object.values(d).filter(e=>e.active).length,["Programming","Web","Database","Tool"].map(e=>{o.push({languageType:e,languageTitle:"Tool"===e?"Tools":"".concat(e," languages"),languagesAvailable:this.languageOptionsByType(e.toLowerCase(),this.props.availableLanguages)})}),(0,s.jsx)(u.A,{fullWidth:!0,maxWidth:"md",onClose:this.handleClose,TransitionComponent:R,open:this.props.open,children:0===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Ay,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"flex-start",children:(0,s.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,s.jsxs)(l.A,{className:"oc-card",sx:e=>({marginRight:e.spacing(4),display:"flex",alignItems:"center",marginTop:e.spacing(2),marginBottom:0}),elevation:0,children:[(0,s.jsx)(f.Ay,{size:"small",onChange:e=>this.setState({searchString:e.target.value}),value:this.state.searchString,sx:e=>({marginLeft:e.spacing(3),flex:1}),placeholder:"Search languages...",inputProps:{"aria-label":"Search languages"},autoFocus:!0}),this.state.searchString?(0,s.jsx)(C.A,{sx:{padding:"10px"},"aria-label":"search",onClick:e=>this.setState({searchString:""}),size:"large",children:(0,s.jsx)(k.A,{})}):(0,s.jsx)(C.A,{sx:{padding:"10px"},"aria-label":"search",size:"large",children:(0,s.jsx)(S.A,{})})]})})}),(0,s.jsxs)(a.Ay,{container:!0,style:{paddingLeft:20,paddingRight:20},children:[o.map(e=>(0,s.jsx)(a.Ay,{item:!0,container:!0,direction:"row",children:0!=e.languagesAvailable.length&&(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsxs)(g.A,{variant:"h6",component:"h1",gutterBottom:!0,color:"secondary",children:[" ",e.languageTitle," "]}),(0,s.jsx)(x.A,{}),(0,s.jsx)(a.Ay,{container:!0,children:e.languagesAvailable.map(e=>{let t=d[e];return"home"!==this.props.source&&t.beta?null:t.properties&&t.properties.url?(0,s.jsx)(a.Ay,{item:!0,sm:6,md:3,lg:3,sx:{cursor:"pointer",padding:"5px",borderRadius:"5px","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?e.palette.grey[800]:e.palette.grey[300]}},children:(0,s.jsx)("a",{href:t.properties.url,target:"_blank",children:(0,s.jsx)(g.A,{variant:"subtitle1",component:"h2",children:(0,s.jsxs)(w.A,{sx:{display:"flex",alignItems:"center"},children:[t.name,(0,s.jsx)(O.A,{})]})})})},e):(0,s.jsx)(a.Ay,{item:!0,sm:6,md:3,lg:3,sx:{cursor:"pointer",padding:"5px",borderRadius:"5px","&:hover":{backgroundColor:e=>"dark"===e.palette.mode?e.palette.grey[800]:e.palette.grey[300]}},onClick:t=>this.props.handleListItemClick(e),children:(0,s.jsx)("a",{children:(0,s.jsxs)(w.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(g.A,{variant:"subtitle1",component:"h2",color:"primary",children:t.name}),t.beta&&(0,s.jsx)(O.A,{fontSize:"small",className:"ml5",color:"primary"})]})})},e)})}),(0,s.jsx)("br",{})]})},e.languageType)),"home"===this.props.source&&!1]})]})})}constructor(...e){super(...e),this.state={value:0,searchString:""},this.handleChange=(e,t)=>{this.setState({value:t})},this.handleClose=()=>{this.props.onClose()},this.languageOptionsByType=(e,t)=>{let i="";return this.state.searchString&&(i=Object.keys(d).filter(e=>e.toLowerCase().includes(this.state.searchString.toLowerCase())||d[e].name.toLowerCase().includes(this.state.searchString.toLowerCase()))),(i||Object.keys(d)).filter(e=>d[e].active).filter(t=>d[t].languageType===e).filter(e=>!t||!!t.includes(e))}}}F.propTypes={onClose:T().func,selectedValue:T().string};var z=i(47432),M=i(63279);let U=e=>{let{codeObj:t}=e;return(0,s.jsx)("div",{style:{paddingTop:2,paddingRight:2,float:"right"},children:(0,s.jsxs)(g.A,{variant:"caption",gutterBottom:!0,children:[(0,s.jsxs)("span",{itemProp:"datePublished",dateTime:"".concat(new Date(t.updated).toISOString().split("T")[0]),children:["created ".concat((0,z.A)(new Date(t.created),{max:1,suffix:!0}))," "]}),t.user&&t.user.name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:" by "}),(0,s.jsx)(M.Link,{route:"/users/".concat(t.user._id),children:(0,s.jsx)("span",{children:(0,s.jsx)("span",{itemProp:"author",itemScope:!0,itemType:"http://schema.org/Person",children:(0,s.jsx)("span",{itemProp:"name",children:"".concat(t.user.name)})})})})]})]})})};var P=i(66903),_=i(64543),L=i(55935),W=i(33650);let E=r.forwardRef(function(e,t){return(0,s.jsx)(h.A,{direction:"down",ref:t,...e})}),D=e=>{let{open:t,handleClose:i,codeObj:l,handleUpdate:n,visibility:a,token:r,handleSave:o}=e;return(0,s.jsxs)(u.A,{open:t,TransitionComponent:E,fullWidth:!0,maxWidth:"md",onClose:i,children:[(0,s.jsx)(P.A,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(m.A,{id:"outlined-name",label:"Name",style:{width:"100%"},margin:"normal",variant:"outlined",value:l.title,onChange:e=>n("title",e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)(m.A,{id:"outlined-multiline-flexible",fullWidth:!0,label:"Description",multiline:!0,rows:"4",maxRows:"20",margin:"normal",variant:"outlined",value:l.description||"",onChange:e=>n("description",e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)(m.A,{id:"outlined-tags",label:"Tags",margin:"normal",variant:"outlined",style:{width:"100%"},value:l.tags?l.tags.join(", "):"",onChange:e=>{let t=e.target.value;t?n("tags",t.split(",").map(e=>e.trim().toLowerCase())):n("tags",[])}}),!a&&r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(W.A,{value:l.visibility||"public",onChange:e=>n("visibility",e)})]})]})}),(0,s.jsxs)(_.A,{children:[(0,s.jsx)(L.A,{variant:"outlined",size:"small",color:"secondary",onClick:i,children:"Close"}),"\xa0\xa0",(0,s.jsx)(L.A,{variant:"outlined",size:"small",color:"primary",onClick:e=>{o()},children:"Save"})]})]})},V=e=>{var t,i,n,r,o;let{codeObj:d}=e;return(0,s.jsx)(a.Ay,{container:!0,children:(0,s.jsx)(a.Ay,{item:!0,xs:12,children:(0,s.jsx)(l.A,{variant:"outlined",style:{padding:"8px",overflow:"auto",maxHeight:"calc(100vh - 110px)"},children:(0,s.jsxs)("pre",{children:[" ",(null==d?void 0:null===(i=d.properties)||void 0===i?void 0:null===(t=i.files)||void 0===t?void 0:t.length)>0?null==d?void 0:null===(o=d.properties)||void 0===o?void 0:null===(r=o.files)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.content:""," "]})})})})};var N=i(15404),B=i(87516),H=i(26015),G=i(39015),Y=i(60373),Z=i(11866),J=i(35820),q=i(42907),K=i(4429),$=i(83e3),Q=i(35811),X=i(12515),ee=i(68516),et=i(65059),ei=i(94967),es=i(87076),el=i(58211),en=i(74298),ea=i(67310),er=i(70362);function eo(e){let t=e.embedMode||!1,[i,n]=(0,r.useState)(""),a=(0,r.useRef)(null),o=async()=>{i&&""!=i&&(e.sendMessage(i),n(""),a.current&&(a.current.style.height="auto"))};return(0,s.jsxs)(s.Fragment,{children:[!e.userToken&&!t&&(0,s.jsx)(en.A,{action:(0,s.jsx)(L.A,{color:"inherit",size:"small",onClick:()=>{window.open("/login","_blank")},children:"Login"}),severity:"warning",children:"Please login to interact with the AI"}),(0,s.jsxs)(w.A,{sx:{backgroundColor:e=>e.palette.background.default,display:"flex",alignItems:"center",padding:e=>e.spacing(1,2)},children:[(0,s.jsx)(l.A,{variant:"outlined",component:w.A,flexGrow:1,ml:2,p:1,sx:{display:"flex",alignItems:"center"},children:(0,s.jsx)("textarea",{ref:a,disabled:!e.userToken&&!t,value:i,onChange:e=>{n(e.target.value),a.current&&(a.current.style.height="auto",a.current.style.height=a.current.scrollHeight+"px")},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o())},placeholder:"Leave a message (Shift+Enter for new line)",style:{width:"100%",border:"none",outline:"none",resize:"none",fontFamily:"inherit",fontSize:"inherit",backgroundColor:"transparent",color:"inherit",minHeight:"24px",maxHeight:"120px",overflow:"auto",lineHeight:"1.5",padding:"0",margin:"0",verticalAlign:"middle"},rows:"1"})}),(0,s.jsx)(Y.A,{title:"Send",children:(0,s.jsx)("span",{children:(0,s.jsx)(C.A,{color:"primary",disabled:!i||!e.userToken&&!t,onClick:o,size:"large",children:(0,s.jsx)(ee.A,{fontSize:"small",children:(0,s.jsx)(ei.A,{})})})})})]})]})}let ed=e=>{let t=(0,o.wA)(),[i,l]=r.useState([]),[a,d]=(0,r.useState)(!1),[c,p]=(0,r.useState)(!1),{token:h,plan:u}=(0,o.d4)(e=>e.user),m=(0,r.useRef)(null),j=e.embedMode||!1;async function b(t){if((null==t?void 0:t.length)>2e3)return alert("Message is too long. Please keep it under 2000 characters.");l(e=>[...e,{content:t,role:"user"}]),p(!0);let s={content:"",role:"assistant"};l(e=>[...e,s]);let n="";try{var a,r,o,d,c,u,g,x;let p=await fetch("/api/ai/stream",{method:"POST",headers:{"Content-Type":"application/json",...h&&{Authorization:"Bearer ".concat(h)}},body:JSON.stringify({module:"editor",usecase:j?"codeHelpEmbedded":"codeHelp",currentMessage:t,conversation:i,metadata:{language:null===(r=e.codeObj)||void 0===r?void 0:null===(a=r.properties)||void 0===a?void 0:a.language,files:null===(d=e.codeObj)||void 0===d?void 0:null===(o=d.properties)||void 0===o?void 0:o.files,stdin:null===(u=e.codeObj)||void 0===u?void 0:null===(c=u.properties)||void 0===c?void 0:c.stdin,stdout:null===(x=e.codeObj)||void 0===x?void 0:null===(g=x.properties)||void 0===g?void 0:g.stdout}})});if(!p.ok)throw Error("HTTP error! status: ".concat(p.status));let m=p.body.getReader(),b=new TextDecoder,v=!1;for(;!v;){let{value:e,done:t}=await m.read();if(v=t,e){let t=b.decode(e);n+=t,l(e=>{let t=[...e];return t[t.length-1]={...s,content:n},t})}}}catch(e){console.error("Streaming error:",e),l(e=>{let t=[...e];return t[t.length-1]={...s,content:"Sorry, I couldn't get a response. Please try again."},t})}p(!1)}(0,r.useEffect)(()=>{m.current&&m.current.scrollIntoView({behavior:"smooth"})},[i]);let y=()=>{d(!1)},A=()=>{window.open("/pricing","_blank")};return(0,s.jsxs)(n.A,{children:[(0,s.jsx)(Y.A,{title:"AI Help",children:(0,s.jsx)("button",{onClick:()=>{d(!0),!h||u||j||t((0,v.D)(h))},style:{background:"#2ecc71",color:"white",border:"none",borderRadius:5,padding:4,marginRight:4,marginTop:3,cursor:"pointer"},children:(0,s.jsxs)("span",{style:{marginLeft:1,marginRight:4},children:[(0,s.jsx)("img",{src:"/static/images/work/ai4.png",alt:"AI",style:{width:12,height:12}})," "," AI "]})})}),(0,s.jsxs)(X.Ay,{anchor:"right",sx:{"& .MuiDrawer-paper":{width:500,maxWidth:"100%"}},ModalProps:{BackdropProps:{invisible:!0}},onClose:y,open:a,variant:"temporary",children:[(0,s.jsx)(w.A,{p:1,children:(0,s.jsxs)(w.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)(g.A,{variant:"h6",color:"textPrimary",children:"Editor AI"}),(0,s.jsxs)("div",{children:[!u&&!j&&(0,s.jsx)(L.A,{variant:"outlined",endIcon:(0,s.jsx)(es.A,{}),size:"small",color:"primary",onClick:A,disabled:!h,sx:{mr:2},children:"Upgrade"}),(0,s.jsx)(Y.A,{title:"Close AI Chat",children:(0,s.jsx)(C.A,{onClick:y,size:"large",children:(0,s.jsx)(et.A,{})})})]})]})}),(0,s.jsx)(x.A,{}),(0,s.jsx)("div",{id:"scrollableDiv",style:{height:"calc(100vh - 40px)",overflow:"auto",display:"flex",flexDirection:"column-reverse"},children:(0,s.jsx)(w.A,{flexGrow:1,p:1,children:(0,s.jsxs)(ea.A,{dataLength:i.length,inverse:!1,style:{display:"flex",flexDirection:"column"},hasMore:!1,scrollableTarget:"scrollableDiv",children:[0===i.length&&(0,s.jsxs)(w.A,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:[(0,s.jsx)(el.A,{sx:{fontSize:48,mb:2,opacity:.7}}),(0,s.jsxs)(g.A,{variant:"body2",children:["Ask me anything about your code! ",(0,s.jsx)("br",{})," I have the latest version of your code and the output of your code."]})]}),i.length>0&&i.map((e,t)=>{var i;return(0,s.jsx)(w.A,{sx:{mb:2},children:"user"===e.role?(0,s.jsxs)(w.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,s.jsx)(g.A,{sx:{color:"text.secondary",fontFamily:"monospace",fontSize:"0.9rem",mr:1},children:">"}),(0,s.jsx)(w.A,{sx:{flex:1},children:(0,s.jsx)(g.A,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem",color:"text.primary",whiteSpace:"pre-wrap"},children:e.content})})]}):(0,s.jsxs)(w.A,{children:[""===e.content&&c&&(0,s.jsxs)(w.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.secondary"},children:[(0,s.jsx)(g.A,{variant:"body2",sx:{fontStyle:"italic"},children:"Thinking..."}),(0,s.jsxs)(w.A,{sx:{display:"flex",gap:.3},children:[(0,s.jsx)(w.A,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:"currentColor",opacity:.3,"@keyframes pulse":{"0%, 80%, 100%":{opacity:.3},"40%":{opacity:1}},animation:"pulse 1.4s infinite",animationDelay:"0s"}}),(0,s.jsx)(w.A,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:"currentColor",animation:"pulse 1.4s infinite",animationDelay:"0.2s"}}),(0,s.jsx)(w.A,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:"currentColor",animation:"pulse 1.4s infinite",animationDelay:"0.4s"}})]})]}),e.content&&(0,s.jsx)(er.A,{markdown:null==e?void 0:e.content}),(null==e?void 0:null===(i=e.content)||void 0===i?void 0:i.startsWith("You have reached the daily limit"))&&!j&&(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:(0,s.jsx)(L.A,{size:"small",color:"primary",onClick:A,style:{paddingRight:"25px"},children:"Upgrade"})})]})},t)}),(0,s.jsx)("div",{ref:m})]})})}),(0,s.jsx)(x.A,{}),(0,s.jsx)(eo,{sendMessage:b,userToken:h,embedMode:j})]})]})};var ec=i(1294),ep=i(17319),eh=i(67330),eu=i(79219),eg=i(62373),ex=i(46968),em=i(27621);let ej=/^[a-z0-9_-]+$/,eb=e=>{let{codeObj:t}=e,[i,l]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[h,g]=(0,r.useState)(""),[x,j]=(0,r.useState)({slug:"",title:"",description:"",visibility:"public"}),[b,v]=(0,r.useState)({}),[y,A]=(0,r.useState)(null),[f,k]=(0,r.useState)(""),S=(0,o.d4)(e=>e.user.token),I=(0,o.d4)(e=>e.user.plan);(0,r.useEffect)(()=>{T()},[i,t]);let T=async()=>{if(i&&t&&t._id){c(!0),g("");try{let{statusCode:e,json:i,error:s}=await (0,p.ZM)("/api/deployments/getDeploymentBySourceId/".concat(t._id),S);200===e&&i&&i.slug?(j({slug:i.slug||"",title:i.title||"",description:i.description||"",visibility:i.visibility||"public"}),A(i._id)):(j({slug:"",title:"",description:"",visibility:"public"}),A(null))}catch(e){g("Failed to fetch deployment info.")}finally{c(!1)}}else i&&(j({slug:"",title:"",description:"",visibility:"public"}),A(null));g(""),k(""),v({})},R=()=>{let e={};return x.slug?x.slug.length<4?e.slug="App Id must be at least ".concat(4," characters"):x.slug.length>63?e.slug="App Id must be at most ".concat(63," characters"):ej.test(x.slug)||(e.slug="Only lowercase letters, numbers, _ and - allowed"):e.slug="App Id is required",x.title||(e.title="App Title is required"),e},F=e=>{let{name:t,value:i}=e.target;"slug"===t&&(i=i.replace(/[^a-z0-9_-]/g,"")),j({...x,[t]:i}),v({...b,[t]:void 0})},z=e=>{j({...x,visibility:e}),v({...b,visibility:void 0})},M=async()=>{let e=R();if(Object.keys(e).length){v(e);return}a(!0),g(""),k("");try{var i,s;let{statusCode:e,json:l}=await (0,p.ZM)("/api/deployments/isSlugAvailable/".concat(x.slug),S);if(200!==e||l&&!1===l.available){v(e=>({...e,slug:"Slug is not available. Please choose another."})),a(!1);return}let{statusCode:n,json:r,error:o}=await (0,p.RA)("/api/deployments",S,{...x,sourceId:t._id,_id:y,files:null==t?void 0:null===(i=t.properties)||void 0===i?void 0:i.files,source:"editor"});200===n&&"success"===r.status?(k("Deployment saved successfully!"),A(null==r?void 0:null===(s=r.doc)||void 0===s?void 0:s._id)):g(r&&r.message||o||"Failed to save deployment")}catch(e){g("Failed to save deployment")}finally{a(!1)}},U=!t||!t._id;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.A,{title:"Deploy this program",children:(0,s.jsx)(C.A,{size:"large",sx:{mr:1},onClick:()=>l(!0),children:(0,s.jsx)(em.A,{color:"textSecondary"})})}),(0,s.jsxs)(u.A,{open:i,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(ep.A,{children:"Deploy Program"}),(0,s.jsx)(P.A,{dividers:!0,children:U?(0,s.jsx)(en.A,{severity:"warning",children:"Please change & run the code before deploy."}):d?(0,s.jsx)(w.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:100,children:(0,s.jsx)(eh.A,{})}):(0,s.jsxs)(w.A,{component:"form",noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsx)(m.A,{label:"App Title",name:"title",value:x.title,onChange:F,error:!!b.title,helperText:b.title,required:!0,disabled:n}),(0,s.jsx)(m.A,{label:"App Description",name:"description",value:x.description,onChange:F,multiline:!0,minRows:2,maxRows:4,disabled:n}),(0,s.jsx)(m.A,{label:"App Id",name:"slug",value:x.slug,onChange:F,error:!!b.slug,helperText:b.slug||"App Id must be at least ".concat(4," characters. Only lowercase letters, numbers, _ and - allowed"),inputProps:{pattern:"[a-z0-9_-]+",maxLength:63},required:!0,disabled:n}),(0,s.jsx)(w.A,{sx:{minWidth:200},children:(0,s.jsxs)(eu.A,{variant:"outlined",style:{minWidth:200},children:[(0,s.jsx)(eg.A,{htmlFor:"visibility-selector",children:"Visibility"}),(0,s.jsxs)(ex.A,{native:!0,value:x.visibility,onChange:e=>z(e.target.value),label:"Visibility",inputProps:{name:"visibility",id:"visibility-selector"},children:[(0,s.jsx)("option",{value:"public",children:"Public (Everyone)"}),(0,s.jsx)("option",{value:"unlisted",children:"Unlisted (People with the Link)"})]})]})}),"unlisted"===x.visibility&&!I&&(0,s.jsx)(en.A,{severity:"warning",action:(0,s.jsx)(L.A,{color:"inherit",size:"small",onClick:()=>window.open("/pricing","_blank"),children:"Upgrade"}),children:"Please upgrade your plan to use unlisted."}),h&&(0,s.jsx)(en.A,{severity:"error",children:h.split("\n").map((e,t)=>(0,s.jsxs)("span",{children:[e,t<h.split("\n").length-1&&(0,s.jsx)("br",{})]},t))}),f&&(0,s.jsx)(en.A,{severity:"success",children:f})]})}),(0,s.jsxs)(_.A,{children:[y&&x.slug&&(0,s.jsx)(w.A,{flexGrow:1,display:"flex",justifyContent:"flex-start",children:(0,s.jsx)(L.A,{variant:"outlined",color:"primary",href:"https://".concat(x.slug,".oneapp.dev"),target:"_blank",rel:"noopener noreferrer",endIcon:(0,s.jsx)(O.A,{}),children:"View Your App"})}),(0,s.jsxs)(w.A,{display:"flex",gap:1,children:[(0,s.jsx)(L.A,{onClick:()=>l(!1),color:"primary",variant:"outlined",disabled:n,children:"Close"}),(0,s.jsx)(L.A,{onClick:M,color:"primary",variant:"contained",disabled:U||n||d||"unlisted"===x.visibility&&!I,children:n?(0,s.jsx)(eh.A,{size:24}):"Deploy"})]})]})]})]})},ev=e=>{var t,i,l,a;let{codeObj:o,embed:p,running:h,showAi:u,source:g,hideNew:x,handleNewClick:m,hideLanguageSelection:j,handleLanguageModelOpen:b,codeVsConsoleSwitchValue:v,hideRun:y,handleRunClick:A,hideEditorOptions:f,handleEditorSettingsOpen:k,handleClearOutput:O,handleCodeMetaEdit:S,fullscreen:I,switchFullscreen:T,handleCodeVsConsoleSwitch:R}=e,F=(0,q.A)(),z=(0,K.A)(F.breakpoints.up("sm")),M=(0,K.A)(F.breakpoints.down("sm"));return(0,s.jsxs)(n.A,{children:["home"===g&&(null===(i=d[o.properties.language])||void 0===i?void 0:null===(t=i.properties)||void 0===t?void 0:t.enableDeployments)&&(0,s.jsx)(eb,{codeObj:o}),u&&(0,s.jsx)(ed,{codeObj:o,embedMode:!0}),"home"===g&&(0,s.jsx)(ed,{codeObj:o,embedMode:!1}),!0!==x&&z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.A,{title:"Create a new ".concat(null==o?void 0:null===(a=o.properties)||void 0===a?void 0:null===(l=a.language)||void 0===l?void 0:l.toUpperCase()," program"),children:(0,s.jsx)(L.A,{color:"primary",size:"small",onClick:e=>m(o.properties.language),children:"New"})}),"\xa0\xa0\xa0"]}),!0!==j&&z&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Y.A,{title:"Click to change the language",children:(0,s.jsxs)(L.A,{size:"small",variant:"contained",color:"primary",className:"mr10",onClick:e=>{b()},children:[o.properties.language," ",(0,s.jsx)(H.A,{})]})})}),M&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(w.A,{sx:e=>({display:"inline",marginRight:"10px",border:"1px solid #ccc",padding:"3.9px 5px",paddingBottom:"8px",borderRadius:"4px",background:"code"===v?"linear-gradient(to right, ".concat("dark"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300]," 50%, transparent 50%)"):"linear-gradient(to left, ".concat("dark"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300]," 50%, transparent 50%)")}),children:[(0,s.jsx)(L.A,{size:"small",sx:e=>({color:e.palette.text.secondary,borderRadius:0}),onClick:()=>R("code"),children:"Code"}),(0,s.jsx)(L.A,{size:"small",sx:e=>({color:e.palette.text.secondary,borderRadius:0}),style:{borderLeft:"1px solid #ccc"},onClick:()=>R("console"),children:"I/O"})]})}),!0!==y&&(0,s.jsx)(Y.A,{title:window.navigator.platform.match(/^Mac/)?"⌘ + return":"ctrl + enter",children:(0,s.jsxs)(L.A,{size:"small",variant:"contained",color:"secondary",className:"mr10",onClick:e=>A(),disabled:h,children:["Run ",(0,s.jsx)(ec.A,{})]})}),!0!==f&&(0,s.jsx)($.Ay,{variant:"popover",popupId:"more-options-popup-menu",children:e=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(C.A,{"aria-label":"more-options",...(0,Q.cO)(e),size:"large",children:(0,s.jsx)(G.A,{})}),(0,s.jsxs)(Z.A,{...(0,Q.NA)(e),children:[(0,s.jsx)(J.A,{onClick:()=>{e.close(),o.properties.files.map(e=>c.A.downloadEditorFile(e.name,e.content))},children:"Download"}),(0,s.jsx)(J.A,{onClick:()=>{e.close(),k()},children:"Editor Settings"}),!p&&(0,s.jsx)(J.A,{onClick:()=>{e.close(),O()},children:"Clear Output"}),!p&&(0,s.jsx)(J.A,{onClick:()=>{e.close(),S()},children:"Title & Visibility"}),!p&&(0,s.jsx)(J.A,{onClick:()=>{e.close(),window.open("/".concat(o.properties.language,"/wiki"),"_blank")},children:"How To (Wiki)"})]})]})}),T&&(0,s.jsx)(Y.A,{title:"Full Screen",children:(0,s.jsx)(C.A,{onClick:()=>T(o),size:"large",children:I?(0,s.jsx)(B.A,{}):(0,s.jsx)(N.A,{})})})]})};var ey=i(14953),eA=i.n(ey),ef=i(9027),eC=i(59783),ew=i(19085);let ek=e=>{var t,i,l,n,a;let r=(0,q.A)(),{language:o,running:c,codeObj:p,hideStdin:h,handleInputUpdate:u}=e,g=(0,K.A)(r.breakpoints.up("lg"));return(0,s.jsxs)(s.Fragment,{children:[p&&(null===(t=d[null==p?void 0:null===(i=p.properties)||void 0===i?void 0:i.language])||void 0===t?void 0:t.languageType)==="web"&&(0,s.jsx)(w.A,{id:"resultBrowser",sx:{height:e.isMobile?"calc(100vh - 105px)":"100%"},children:(0,s.jsx)(ew.A,{running:c,codeObj:p,language:o})}),p&&(null===(l=d[null==p?void 0:null===(n=p.properties)||void 0===n?void 0:n.language])||void 0===l?void 0:l.languageType)!=="web"&&(0,s.jsx)(w.A,{sx:{height:e.isMobile?"calc(100vh - 105px)":"100%"},children:(0,s.jsxs)(ef.YZ,{direction:"vertical",children:[!0!==h&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ef.Zk,{defaultSize:g?11:20,children:(0,s.jsx)(w.A,{sx:{height:"100%",overflow:"auto",display:"flex",flexDirection:"column"},children:(0,s.jsx)(m.A,{sx:e=>({height:"100%","& .MuiInputBase-root":{height:"100%",alignItems:"flex-start"},"& .MuiInputBase-input":{height:"100%",boxSizing:"border-box",padding:e.spacing(1),overflow:"auto"},"& .MuiOutlinedInput-notchedOutline":{borderWidth:"0px",borderColor:"transparent !important"}}),onChange:e=>u(e.target.value),value:(null==p?void 0:null===(a=p.properties)||void 0===a?void 0:a.stdin)||"",label:"STDIN",placeholder:"Input for the program ( Optional )",margin:"normal",variant:"outlined",fullWidth:!0,multiline:!0,slotProps:{inputLabel:{shrink:!0}}})})})}),(0,s.jsx)(ef.TW,{style:{height:c||p.properties.result?"1px":"5px",background:"dark"===r.palette.mode?r.palette.alternate.dark:r.palette.grey[100]}}),(0,s.jsxs)(ef.Zk,{children:[c&&(0,s.jsx)(eC.A,{}),(0,s.jsxs)(w.A,{sx:e=>({paddingLeft:e.spacing(1),overflow:"auto",maxHeight:"100%",borderTop:!c&&p.properties.result?p.properties.result.success?"1.5px solid ".concat(e.palette.success.light," !important"):"1px solid ".concat(e.palette.error.light," !important"):void 0}),children:[(0,s.jsx)("p",{style:{fontSize:"0.875rem"},children:"Output:"}),(0,s.jsx)(w.A,{children:(0,s.jsx)("pre",{style:{fontSize:"0.875rem",lineHeight:"1.43"},children:p.properties.result&&p.properties.result.output||"Click on RUN button to see the output"})})]})]})]},g)})]})};var eO=i(94598);let eS=eA()(()=>Promise.all([i.e(9518),i.e(3334),i.e(9624),i.e(7602)]).then(i.bind(i,67602)),{loadableGenerated:{webpack:()=>[67602]},ssr:!1}),eI=e=>{let{language:t,running:i,hideStdin:l,codeObj:n,isOwnCode:a,hideResult:r,handleUpdate:o,codeVsConsoleSwitchValue:c,handleRunClick:p,height:h,codeTabIndex:u,disableCopyPaste:g,editorReadOnly:x,readOnlyList:m,handleInputUpdate:j}=e,b=(0,q.A)(),v=(0,K.A)(b.breakpoints.down("sm")),y=(0,eO.M)().theme;return(0,s.jsxs)(ef.YZ,{autoSaveId:"oc:editor",direction:"horizontal",children:[!(v&&"console"===c)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ef.Zk,{defaultSize:60,children:n.properties.files.length>u&&(0,s.jsx)(eS,{onRun:()=>{p()},height:h||"100%",value:n.properties.files[u].content,mode:d[n.properties.language].fileVsMode?d[n.properties.language].fileVsMode[n.properties.files[u].name.split(".").pop()]:d[n.properties.language].mode,theme:(null==y?void 0:y.startsWith("dark"))?"dark":d[n.properties.language].theme,elevation:0,disableCopyPaste:g,readOnly:x||m&&m.length>0&&m.includes(n.properties.files[u].name),onChange:e=>{let t=[...n.properties.files];t[u].content=e,o(t,a)}})})}),!0!==r&&!(v&&"code"===c)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.TW,{style:{width:5,background:"dark"===b.palette.mode?b.palette.alternate.dark:b.palette.grey[100],"&:hover":{background:"dark"===b.palette.mode?b.palette.grey[700]:b.palette.grey[300],transition:"background 0.1s"}}}),(0,s.jsx)(ef.Zk,{defaultSize:40,children:(0,s.jsx)(ek,{isMobile:v,language:t,running:i,codeObj:n,hideStdin:l,handleInputUpdate:j})})]})]})};var eT=i(39155),eR=i(37915),eF=i(87503),ez=i(59113),eM=i(52362),eU=i(13514),eP=i(63845);let e_=e=>{var t,i;let{codeObj:l,token:n,isOwnCode:a,codeTabIndex:o,handleTabChange:p,handleUpdate:h,hideNewFileOption:g,readOnlyList:x,handleNewCodeId:j,handleAssestsOpen:b,handleAIImageOpen:v,embed:y}=e,[A,f]=r.useState(!1),[k,O]=r.useState(!1),[S,I]=r.useState(null),[T,R]=r.useState(""),[F,z]=r.useState(null),M=e=>{I(e),R(l.properties.files[e].name),f(!0)},U=()=>{f(!1),I(null),R("")},W=e=>{z(e),O(!0)},E=()=>{O(!1),z(null)};return(0,s.jsxs)(w.A,{style:{display:"flex",flexDirection:"row"},children:[(0,s.jsx)(ez.H,{}),(0,s.jsx)(eT.A,{indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",value:o,onChange:(e,t)=>{p(t)},children:null==l?void 0:null===(i=l.properties)||void 0===i?void 0:null===(t=i.files)||void 0===t?void 0:t.map((e,t)=>(0,s.jsx)(eF.A,{label:e.name,handleEdit:d[l.properties.language].properties.filesEditable?()=>M(t):null,handleDelete:!g&&d[l.properties.language].properties.newFileOptions&&d[l.properties.language].properties.newFileOptions.length&&!((null==x?void 0:x.length)>0&&x.includes(e.name))?()=>W(e.name):null},e.name))}),c.A.canHaveNewFiles(l)&&!g&&(0,s.jsx)($.Ay,{variant:"popover",popupId:"new-file-menu",children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.A,{"aria-label":"more-options-add-file",size:"large",...(0,Q.cO)(e),children:(0,s.jsx)(eM.A,{})}),(0,s.jsx)(Z.A,{...(0,Q.NA)(e),children:d[l.properties.language].properties.newFileOptions.map(t=>(0,s.jsx)(J.A,{onClick:()=>{e.close();let i=[...l.properties.files],s=c.A.createNewFileAndContent(l.properties.files,t);s&&(i.push({...s}),h(i,a,!1,!0))},children:t.helpText},t.helpText))})]})}),c.A.canHaveImageUpload(l)&&!y&&(0,s.jsx)(Y.A,{title:"Upload Images",arrow:!0,children:(0,s.jsx)(C.A,{size:"large","aria-label":"upload-image",onClick:()=>{if(!n){(0,ez.o)("Please login to upload images",{icon:"⚠️"});return}l._id||j(),b()},children:(0,s.jsx)(eU.A,{})})}),c.A.canHaveImageUpload(l)&&!y&&(0,s.jsx)(Y.A,{title:"AI Image Generation",arrow:!0,children:(0,s.jsx)(C.A,{size:"large","aria-label":"ai-image-generation",sx:{display:{xs:"none",sm:"inline-flex"}},onClick:()=>{if(!n){(0,ez.o)("Please login to use AI image generation",{icon:"⚠️"});return}l._id||j(),v()},children:(0,s.jsx)(eP.A,{})})}),(0,s.jsxs)(u.A,{open:A,onClose:U,maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(ep.A,{children:"Rename File"}),(0,s.jsx)(P.A,{children:(0,s.jsx)(m.A,{autoFocus:!0,margin:"dense",label:"File Name",type:"text",fullWidth:!0,variant:"outlined",value:T,onChange:e=>R(e.target.value)})}),(0,s.jsxs)(_.A,{children:[(0,s.jsx)(L.A,{onClick:U,children:"Cancel"}),(0,s.jsx)(L.A,{onClick:()=>{if(T&&null!==S){let e=[...l.properties.files];e[S].name=T,h(e,a,!0)}U()},variant:"contained",color:"primary",children:"Rename"})]})]}),(0,s.jsxs)(u.A,{open:k,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,s.jsx)(ep.A,{id:"alert-dialog-title",children:"Delete File"}),(0,s.jsx)(P.A,{children:(0,s.jsxs)(eR.A,{id:"alert-dialog-description",children:['Are you sure you want to delete the file "',F,'"? This action cannot be undone.']})}),(0,s.jsxs)(_.A,{children:[(0,s.jsx)(L.A,{onClick:E,children:"Cancel"}),(0,s.jsx)(L.A,{onClick:()=>{if(F){let e=[...l.properties.files];h(e=e.filter(e=>e.name!==F),a)}E()},color:"error",autoFocus:!0,children:"Delete"})]})]})]})};var eL=i(785);let eW=e=>{let{codeObj:t,isOwnCode:i,handleClick:l}=e;return(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:(0,s.jsxs)(g.A,{variant:"body1",component:"h1",itemProp:"headline",color:"primary",style:i?{}:{paddingBottom:3,paddingTop:3,lineHeight:1.5},children:[null==t?void 0:t.title,"\xa0",i&&(0,s.jsx)(C.A,{"aria-label":"Edit",color:"primary",onClick:l,style:{padding:6},size:"large",children:(0,s.jsx)(eL.A,{fontSize:"small"})})]})})};var eE=i(53384),eD=i(71501),eV=i(91395),eN=i(22689),eB=i(28556),eH=i(14751),eG=i(42853),eY=i(69838),eZ=i(42132),eJ=i(46404);let eq=r.forwardRef(function(e,t){return(0,s.jsx)(h.A,{direction:"up",ref:t,...e})}),eK=function(e){let{open:t,codeId:i,userId:l,handleClose:n,userToken:o}=e,[d,c]=(0,r.useState)({}),[h,m]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[A,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{k()},[t]);let k=async()=>{if(!t)return;if(!o){b(!0);return}let{statusCode:e,json:i}=await (0,p.ZM)("/api/assets/".concat(l),o);200===e?(m(i),b(!0)):alert("Failed to fetch assets")},O=async e=>{if(!window.confirm("Are you sure you want to delete this image? This action cannot be undone."))return;f(e);let{statusCode:t,json:i,error:s}=await (0,p.wQ)("/api/assets/".concat(l,"/").concat(e),o);f(null),200===t?(b(!1),k()):alert("Failed to delete asset. Error: "+s)},S=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"url",s=t;"img"===i&&(s='<img src="'.concat(t,'" />')),navigator.clipboard.writeText(s),c({...d,["".concat(e,"_").concat(i)]:!0}),setTimeout(()=>{c({...d,["".concat(e,"_").concat(i)]:!1})},2e3)},I=async e=>{let t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/")){alert("Please select an image file");return}if(t.size>0xa00000){alert("File size must be less than 10MB");return}var s=new FormData;s.append("upload_file",t),y(!0);let{statusCode:n,json:a,error:r}=await (0,p.zo)("/api/assets/upload/".concat(l,"/").concat(i),o,s);y(!1),200===n?(null==a?void 0:a.status)==="success"&&(null==a?void 0:a.url)&&(b(!1),k()):alert("Failed to upload file. Error: "+r),e.target.value=null};return(0,s.jsxs)(u.A,{fullWidth:!0,maxWidth:"lg",open:t,onClose:n,TransitionComponent:eq,PaperProps:{sx:{borderRadius:2,backgroundImage:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"100% 4px",backgroundRepeat:"no-repeat",backgroundPosition:"top"}},children:[(0,s.jsx)(ep.A,{sx:{pb:2,pt:3},children:(0,s.jsxs)(eE.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(eE.A,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,s.jsx)(w.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:(0,s.jsx)(eZ.A,{})}),(0,s.jsx)(w.A,{children:(0,s.jsx)(g.A,{variant:"h6",fontWeight:600,children:"Upload & Manage Images"})})]}),(0,s.jsxs)(w.A,{children:[(0,s.jsx)("input",{accept:"image/*",style:{display:"none"},id:"upload-image-button",type:"file",onChange:I,disabled:!l||!i||v}),(0,s.jsx)("label",{htmlFor:"upload-image-button",children:(0,s.jsx)(L.A,{variant:"contained",color:"primary",component:"span",disabled:!l||!i||v,startIcon:v?(0,s.jsx)(eh.A,{size:20,color:"inherit"}):(0,s.jsx)(em.A,{}),sx:{borderRadius:2},children:v?"Uploading...":"Upload New"})})]})]})}),(0,s.jsxs)(P.A,{dividers:!0,sx:{pt:3,minHeight:400},children:[!j&&(0,s.jsx)(w.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:300,children:(0,s.jsx)(eh.A,{})}),j&&!o&&(0,s.jsx)(en.A,{severity:"info",sx:{borderRadius:2},children:"Please login to upload and manage images"}),j&&o&&0===h.length&&(0,s.jsxs)(w.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,children:[(0,s.jsx)(eZ.A,{sx:{fontSize:80,color:"text.disabled",mb:2}}),(0,s.jsx)(g.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No images uploaded yet"}),(0,s.jsx)(g.A,{variant:"body2",color:"text.secondary",children:'Click "Upload New" to add your first image'})]}),j&&h.length>0&&(0,s.jsx)(a.Ay,{container:!0,spacing:2,children:h.map(e=>(0,s.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,s.jsxs)(eD.A,{elevation:0,sx:{height:"100%",border:"1px solid",borderColor:"divider",borderRadius:2,transition:"all 0.2s ease","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"}},children:[(0,s.jsx)(eV.A,{component:"img",height:"200",image:e.url,alt:"Uploaded image",sx:{objectFit:"cover",backgroundColor:"#f5f5f5"}}),(0,s.jsx)(eN.A,{sx:{pb:1},children:(0,s.jsxs)(eE.A,{spacing:1,children:[(0,s.jsx)(w.A,{sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)",p:1,borderRadius:1,fontSize:"0.75rem",fontFamily:"monospace",wordBreak:"break-all",maxHeight:60,overflow:"auto",color:"text.primary"},children:e.url}),(0,s.jsx)(eB.A,{label:function(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}(e.size),size:"small",variant:"outlined",sx:{alignSelf:"flex-start"}})]})}),(0,s.jsx)(x.A,{}),(0,s.jsxs)(eH.A,{sx:{justifyContent:"space-between",px:2},children:[(0,s.jsxs)(eE.A,{direction:"row",spacing:.5,children:[(0,s.jsx)(Y.A,{title:d["".concat(e._id,"_url")]?"Copied!":"Copy URL",children:(0,s.jsx)(C.A,{size:"small",onClick:()=>S(e._id,e.url,"url"),sx:{color:d["".concat(e._id,"_url")]?"primary.main":"text.secondary"},children:(0,s.jsx)(eG.A,{fontSize:"small"})})}),(0,s.jsx)(Y.A,{title:d["".concat(e._id,"_img")]?"Copied!":"Copy Image Tag",children:(0,s.jsx)(C.A,{size:"small",onClick:()=>S(e._id,e.url,"img"),sx:{color:d["".concat(e._id,"_img")]?"primary.main":"text.secondary"},children:(0,s.jsx)(eJ.A,{fontSize:"small"})})})]}),(0,s.jsx)(Y.A,{title:"Delete",children:(0,s.jsx)(C.A,{size:"small",color:"error",onClick:()=>O(e._id),disabled:A===e._id,children:A===e._id?(0,s.jsx)(eh.A,{size:18,color:"error"}):(0,s.jsx)(eY.A,{fontSize:"small"})})})]})]})},e._id))})]}),(0,s.jsx)(_.A,{sx:{px:3,py:2},children:(0,s.jsxs)(w.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,s.jsxs)(g.A,{variant:"caption",color:"text.secondary",children:[h.length," ",1===h.length?"image":"images"]}),(0,s.jsx)(L.A,{onClick:n,variant:"outlined",sx:{borderRadius:1},children:"Close"})]})})]})};var e$=i(93381),eQ=i(57427);let eX=r.forwardRef(function(e,t){return(0,s.jsx)(h.A,{direction:"up",ref:t,...e})}),e0=["A serene mountain landscape at sunset","A futuristic city with flying cars","A magical forest with glowing mushrooms","A cozy coffee shop on a rainy day","A space station orbiting Earth","A dragon flying over medieval castle"],e1=function(e){let{open:t,codeId:i,userId:l,handleClose:n,userToken:a}=e,[o,d]=(0,r.useState)(""),[c,h]=(0,r.useState)(null),[j,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[A,f]=(0,r.useState)(""),[C,k]=(0,r.useState)("vivid"),[O,S]=(0,r.useState)("standard"),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{c&&I.current&&setTimeout(()=>{I.current.scrollIntoView({behavior:"smooth",block:"nearest"})},100)},[c]);let T=async()=>{if(!o.trim()){y("Please enter a prompt");return}if(!l||!i){y("Please save your code first to generate images");return}b(!0),y(""),h(null);try{let{statusCode:e,json:t,error:s}=await (0,p.RA)("/api/ai/image/".concat(l,"/").concat(i),a,{module:"editor",usecase:"generateImage",prompt:o.trim(),style:C,quality:O,size:"1024x1024"});200===e?(null==t?void 0:t.message)&&t.message.content&&t.message.content.includes("daily limit")?y("You have reached the daily limit for AI image generation. Please upgrade to a paid plan to continue."):(null==t?void 0:t.status)==="success"&&(null==t?void 0:t.url)?h(t.url):y((null==t?void 0:t.error)||s||"Failed to generate image"):y((null==t?void 0:t.error)||s||"Failed to generate image")}catch(e){y("Failed to generate image. Please try again.")}finally{b(!1)}},R=e=>{if(!c)return;let t="";switch(e){case"url":default:t=c;break;case"img":t='<img src="'.concat(c,'" />');break;case"markdown":t="![".concat(o,"](").concat(c,")")}navigator.clipboard.writeText(t),f(e),setTimeout(()=>f(""),2e3)},F=e=>{d(e)},z=()=>{n(),setTimeout(()=>{h(null),d(""),y("")},300)};return(0,s.jsxs)(u.A,{fullWidth:!0,maxWidth:"md",open:t,onClose:z,TransitionComponent:eX,PaperProps:{sx:{borderRadius:2,backgroundImage:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"100% 4px",backgroundRepeat:"no-repeat",backgroundPosition:"top"}},children:[(0,s.jsx)(ep.A,{sx:{pb:2,pt:3},children:(0,s.jsxs)(eE.A,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,s.jsx)(w.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:(0,s.jsx)(eQ.A,{})}),(0,s.jsx)(w.A,{children:(0,s.jsx)(g.A,{variant:"h6",fontWeight:600,children:"AI Image Generation"})})]})}),(0,s.jsx)(P.A,{dividers:!0,sx:{pt:3},children:(0,s.jsxs)(eE.A,{spacing:3,children:[(0,s.jsx)(w.A,{children:(0,s.jsx)(m.A,{fullWidth:!0,multiline:!0,rows:3,value:o,onChange:e=>d(e.target.value),placeholder:"Be creative! Describe the image you want to generate...",disabled:j,error:!!v,helperText:v,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#764ba2"}}}})}),(0,s.jsx)(w.A,{children:(0,s.jsx)(w.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:e0.map((e,t)=>(0,s.jsx)(eB.A,{label:e,onClick:()=>F(e),variant:"outlined",size:"medium",clickable:!0,disabled:j,sx:{borderRadius:"16px",borderColor:"rgba(0, 0, 0, 0.12)",fontSize:"0.875rem",fontWeight:400,transition:"all 0.2s ease","&:hover":{borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.08)",transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.15)"},"&:active":{transform:"translateY(0)"},"& .MuiChip-label":{px:1.5}}},t))})}),(0,s.jsxs)(eE.A,{direction:"row",spacing:4,children:[(0,s.jsxs)(w.A,{children:[(0,s.jsx)(g.A,{variant:"subtitle2",fontWeight:500,gutterBottom:!0,children:"Style"}),(0,s.jsxs)(eE.A,{direction:"row",spacing:1,children:[(0,s.jsx)(eB.A,{label:"Vivid",onClick:()=>k("vivid"),color:"vivid"===C?"primary":"default",variant:"vivid"===C?"filled":"outlined",disabled:j,sx:{borderRadius:"12px",minWidth:90,fontWeight:"vivid"===C?500:400,transition:"all 0.2s ease","&:hover":{transform:"vivid"!==C?"scale(1.05)":void 0}}}),(0,s.jsx)(eB.A,{label:"Natural",onClick:()=>k("natural"),color:"natural"===C?"primary":"default",variant:"natural"===C?"filled":"outlined",disabled:j,sx:{borderRadius:"12px",minWidth:90,fontWeight:"natural"===C?500:400,transition:"all 0.2s ease","&:hover":{transform:"natural"!==C?"scale(1.05)":void 0}}})]})]}),(0,s.jsxs)(w.A,{children:[(0,s.jsx)(g.A,{variant:"subtitle2",fontWeight:500,gutterBottom:!0,children:"Quality"}),(0,s.jsxs)(eE.A,{direction:"row",spacing:1,children:[(0,s.jsx)(eB.A,{label:"Standard",onClick:()=>S("standard"),color:"standard"===O?"primary":"default",variant:"standard"===O?"filled":"outlined",disabled:j,sx:{borderRadius:"12px",minWidth:90,fontWeight:"standard"===O?500:400,transition:"all 0.2s ease","&:hover":{transform:"standard"!==O?"scale(1.05)":void 0}}}),(0,s.jsx)(eB.A,{label:"HD",onClick:()=>S("hd"),color:"hd"===O?"primary":"default",variant:"hd"===O?"filled":"outlined",disabled:j,sx:{borderRadius:"12px",minWidth:90,fontWeight:"hd"===O?500:400,transition:"all 0.2s ease","&:hover":{transform:"hd"!==O?"scale(1.05)":void 0}}})]})]})]}),(0,s.jsx)(L.A,{variant:"contained",color:"primary",size:"large",onClick:T,disabled:j||!o.trim()||!l||!i,startIcon:j?(0,s.jsx)(eh.A,{size:20,color:"inherit"}):(0,s.jsx)(eQ.A,{}),fullWidth:!0,children:j?"Generating...":"Generate Image"}),c&&(0,s.jsx)(e$.A,{in:!0,children:(0,s.jsxs)(eD.A,{ref:I,elevation:0,sx:{borderRadius:2,border:"1px solid",borderColor:"divider"},children:[(0,s.jsx)(eV.A,{component:"img",image:c,alt:"Generated",sx:{width:"100%",height:"auto",maxHeight:400,objectFit:"contain",backgroundColor:"#f5f5f5"}}),(0,s.jsx)(x.A,{}),(0,s.jsx)(w.A,{sx:{p:2},children:(0,s.jsxs)(eE.A,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,s.jsx)(Y.A,{title:"url"===A?"Copied!":"Copy URL",children:(0,s.jsx)(L.A,{size:"small",variant:"url"===A?"contained":"outlined",startIcon:(0,s.jsx)(eG.A,{fontSize:"small"}),onClick:()=>R("url"),sx:{borderRadius:1},children:"url"===A?"Copied!":"Copy URL"})}),(0,s.jsx)(Y.A,{title:"img"===A?"Copied!":"Copy Image Tag",children:(0,s.jsx)(L.A,{size:"small",variant:"img"===A?"contained":"outlined",startIcon:(0,s.jsx)(eJ.A,{fontSize:"small"}),onClick:()=>R("img"),sx:{borderRadius:1},children:"img"===A?"Copied!":"Copy Image Tag"})})]})})]})}),!l&&(0,s.jsx)(en.A,{severity:"info",sx:{borderRadius:2},children:"Please login to generate AI images"}),!i&&l&&(0,s.jsx)(en.A,{severity:"info",sx:{borderRadius:2},children:"Please save your code first (Ctrl+S) to generate images"})]})}),(0,s.jsx)(_.A,{sx:{px:3,py:2},children:(0,s.jsx)(L.A,{onClick:z,variant:"outlined",sx:{borderRadius:1},children:"Close"})})]})};class e2 extends r.Component{async componentDidMount(){this.setState({isServer:!1}),this.props.preFill&&!0===this.props.preFill.listenToEvents&&window.addEventListener("message",this.handleEmbedEvent);try{var e;if(this.props.preFill&&this.props.preFill.preloadCodeIds&&this.props.preFill.preloadCodeIds[this.state.codeObj.properties.language]&&!this.state.codeObj._id&&!(null===(e=this.props.preFill.codeObj)||void 0===e?void 0:e._id)){let e=[...this.state.codeObj.properties.files];e[0].content="Loading, Please wait...",this.setState({editorReadOnly:!0,codeObj:{...this.state.codeObj,properties:{...this.state.codeObj.properties,files:e}}});let t=this.props.preFill.preloadCodeIds[this.state.codeObj.properties.language],i=await (0,p.Jt)("/api/posts/".concat(t),this.props.userToken);i?(i._id=null,i.user=null,this.props.visibility&&(i.visibility=this.props.visibility),this.setState({codeObj:{...this.state.codeObj,...i},editorReadOnly:!1}),!0===this.props.preFill.listenToEvents&&i.properties&&i.properties.stdin&&window.postMessage({eventType:"populateStdinBack",stdin:i.properties.stdin||""},"*")):this.setState({editorReadOnly:!1})}}catch(e){console.log("Error while preload code",e)}}componentWillUnmount(){window.removeEventListener("message",this.handleEmbedEvent,!1)}handleEmbedEvent(e){if(e.data&&e.data.eventType){if("triggerRun"===e.data.eventType)this.handleOnRunClick();else if("populateCode"===e.data.eventType){if(e.data.language&&e.data.files&&e.data.files.length>0){if(d[e.data.language]){let t=JSON.parse(JSON.stringify(d[e.data.language]));t.visibility=this.props.visibility||this.state.codeObj.visibility||"public",t.properties.files=[...e.data.files],e.data.stdin&&(t.properties.stdin=e.data.stdin),e.data.result&&(t.properties.result=e.data.result),this.setState({codeObj:t})}else console.log("Invalid language "+e.data.language)}else console.log("language & files are mandatory for populateCode event")}else"populateStdin"===e.data.eventType&&this.setState({codeObj:{...this.state.codeObj,properties:{...this.state.codeObj.properties,stdin:e.data.stdin||""}}},()=>{this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj)})}}isOwnCode(){return!!this.state.codeObj&&(!!this.state.codeObj.user&&!!this.props.loggedInUserObj&&!!this.props.loggedInUserObj._id&&this.state.codeObj.user._id===this.props.loggedInUserObj._id||!!this.state.codeObj.idToken)}render(){var e,t,i,r,o,d,c;let p=this.isOwnCode(),h=(0,s.jsx)(e_,{codeObj:this.state.codeObj,isOwnCode:p,codeTabIndex:this.state.codeTabIndex,handleTabChange:e=>this.setState({codeTabIndex:e}),handleUpdate:(e,t,i,s)=>this.handleUpdateCode(e,t,i,s),hideNewFileOption:this.props.preFill.hideNewFileOption,readOnlyList:this.props.preFill.readOnlyList,embed:this.props.embed,token:this.props.token,handleNewCodeId:this.createCodeId,handleAssestsOpen:()=>this.setState({imageUploadModelOpen:!0}),handleAIImageOpen:()=>this.setState({aiImageGenerationModelOpen:!0})}),u=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ev,{embed:this.props.embed,codeObj:this.state.codeObj,showAi:null===(e=this.props.preFill)||void 0===e?void 0:e.showAi,hideRun:null===(t=this.props.preFill)||void 0===t?void 0:t.hideRun,hideEditorOptions:null===(i=this.props.preFill)||void 0===i?void 0:i.hideEditorOptions,source:this.props.source,running:this.state.running,codeVsConsoleSwitchValue:this.state.codeVsConsoleSwitchValue||"code",hideNew:null===(r=this.props.preFill)||void 0===r?void 0:r.hideNew,hideLanguageSelection:null===(o=this.props.preFill)||void 0===o?void 0:o.hideLanguageSelection,handleNewClick:e=>this.updateLanguage(e),handleLanguageModelOpen:()=>this.setState({languageSelectionModelOpen:!0}),handleCodeVsConsoleSwitch:e=>this.setState({codeVsConsoleSwitchValue:e}),handleRunClick:this.handleOnRunClick,handleEditorSettingsOpen:()=>this.setState({editorSettingsModelOpen:!0}),handleClearOutput:()=>this.handleClearOutput(),handleCodeMetaEdit:()=>this.setState({editingModelOpen:!0}),fullscreen:this.props.fullscreen,switchFullscreen:this.props.switchFullscreen})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.A,{variant:"outlined",children:[this.state.isServer&&(0,s.jsx)(V,{codeObj:this.state.codeObj}),(0,s.jsxs)(n.A,{children:[(0,s.jsxs)(a.Ay,{container:!0,direction:"row",sx:{justifyContent:"space-between",alignItems:"center",display:{xs:"none",sm:"flex"},background:e=>"dark"===e.palette.mode?e.palette.alternate.dark:e.palette.grey[100]},children:[(0,s.jsx)(a.Ay,{item:!0,sx:{justifyContent:"space-between",alignItems:"center"},children:h}),(0,s.jsx)(a.Ay,{children:!(this.props.preFill&&!0===this.props.preFill.hideTitle)&&(0,s.jsx)(eW,{codeObj:this.state.codeObj,isOwnCode:p,handleClick:this.toggleEditingModel})}),(0,s.jsxs)(a.Ay,{item:!0,children:[" ",u," "]})]}),(0,s.jsxs)(a.Ay,{container:!0,direction:"column",sx:{display:{xs:"flex",sm:"none"},justifyContent:"space-between",alignItems:"center",background:e=>"dark"===e.palette.mode?e.palette.alternate.dark:e.palette.grey[100],paddingTop:e=>e.spacing(.5)},children:[(0,s.jsx)(a.Ay,{item:!0,xs:12,children:u}),"code"===this.state.codeVsConsoleSwitchValue&&(0,s.jsx)(a.Ay,{item:!0,xs:12,children:h})]}),(0,s.jsx)(eI,{language:this.props.language,running:this.state.running,hideStdin:(null===(d=this.props.preFill)||void 0===d?void 0:d.hideStdin)===!0,codeObj:this.state.codeObj,isOwnCode:p,codeVsConsoleSwitchValue:this.state.codeVsConsoleSwitchValue,handleRunClick:this.handleOnRunClick,height:this.props.height,codeTabIndex:this.state.codeTabIndex,disableCopyPaste:this.props.preFill.disableCopyPaste,editorReadOnly:this.state.editorReadOnly,readOnlyList:this.props.preFill.readOnlyList,handleUpdate:(e,t,i,s)=>this.handleUpdateCode(e,t,i,s),hideResult:null===(c=this.props.preFill)||void 0===c?void 0:c.hideResult,handleInputUpdate:e=>{this.setState({codeObj:{...this.state.codeObj,properties:{...this.state.codeObj.properties,stdin:e}}},()=>{this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj)})}})]}),(0,s.jsxs)("div",{children:[!this.props.fullscreen&&!this.props.embed&&this.state.codeObj&&this.state.codeObj.updated&&(0,s.jsx)(U,{codeObj:this.state.codeObj}),(0,s.jsx)(F,{source:this.props.source,isUserLoggedIn:!!this.props.token,availableLanguages:this.props.preFill?this.props.preFill.availableLanguages:null,handleListItemClick:e=>{this.setState({language:e,languageSelectionModelOpen:!1},()=>this.updateLanguage(e)),this.props.handleLanguageChange&&this.props.handleLanguageChange(e)},open:this.state.languageSelectionModelOpen,onClose:()=>{this.setState({languageSelectionModelOpen:!1})}}),(0,s.jsx)(eK,{codeId:this.state.codeObj._id,userId:this.props.loggedInUserObj._id,open:this.state.imageUploadModelOpen,handleClose:()=>this.setState({imageUploadModelOpen:!1}),userToken:this.props.token}),(0,s.jsx)(e1,{codeId:this.state.codeObj._id,userId:this.props.loggedInUserObj._id,open:this.state.aiImageGenerationModelOpen,handleClose:()=>this.setState({aiImageGenerationModelOpen:!1}),userToken:this.props.token})]}),(0,s.jsx)(A,{open:this.state.editorSettingsModelOpen,onClose:()=>this.setState({editorSettingsModelOpen:!1})}),(0,s.jsx)(D,{open:this.state.editingModelOpen,handleClose:()=>this.setState({editingModelOpen:!1}),codeObj:this.state.codeObj,handleUpdate:(e,t)=>this.handleUpdateCodeMeta(e,t),handleSave:()=>{this.setState({editingModelOpen:!1}),this.handleOnRunClick(!1)},visibility:this.props.visibility,token:this.props.token})]})})}constructor(e){var t,i;super(e),this.createCodeId=()=>{this.state.creatingCodeId||this.setState({creatingCodeId:!0,codeObj:{...this.state.codeObj,_id:null,title:"forking...",user:null}},()=>{fetch("/api/getIdAndToken").then(e=>e.json()).then(e=>{let t=e.id,i=e.token,s={...this.state.codeObj,_id:t,title:t};this.props.loggedInUserObj&&this.props.loggedInUserObj._id?s.user={_id:this.props.loggedInUserObj._id}:s.idToken=i,this.setState({creatingCodeId:!1,codeObj:s,output:null},()=>{this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj)})})})},this.handleClearOutput=async()=>{if(this.state.running)return;let e=await (0,p.RA)("/api/code/clearOutput",this.props.token,{...this.state.codeObj});(null==e?void 0:e.error)?alert(e.error):this.setState({output:null,codeObj:{...this.state.codeObj,properties:{...this.state.codeObj.properties,result:null}}},()=>{this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj)})},this.handleOnRunClick=async(e,t)=>{if(this.state.running)return;let i=this.isOwnCode();void 0===e&&(e=i),this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj,"runStart"),this.setState({output:"executing...",running:!0,success:null,codeVsConsoleSwitchValue:"console"});let s=c.A.clientValidation(this.state.codeObj),l=null;if("failed"===s.status)l={stdout:null,stderr:s.message};else{var n;this.props.handleRunStart&&this.props.handleRunStart(this.state.codeObj);let e=await (0,p.RA)("/api/code/exec",this.props.token||t,{...this.state.codeObj,visibility:this.props.visibility||this.state.codeObj.visibility||"public",parentURL:null===(n=this.props.preFill)||void 0===n?void 0:n.parentURL});l=e.error?{stdout:null,stderr:e.error}:e.json}let{success:a,output:r}=c.A.getResult(l);this.setState({success:a,output:r,running:!1,codeObj:{...this.state.codeObj,visibility:l.newVisibility||this.state.codeObj.visibility||"public",properties:{...this.state.codeObj.properties,result:{...this.state.codeObj.properties.result||{},success:a,output:r}}}},()=>{this.props.handleRunComplete&&this.props.handleRunComplete(this.state.codeObj,i)})},this.updateLanguage=async e=>{let t={...JSON.parse(JSON.stringify(d[e]))};if(this.props.preFill&&this.props.preFill.preloadCodeIds&&this.props.preFill.preloadCodeIds[e]){let i=this.props.preFill.preloadCodeIds[e],s=await fetch("/api/posts/".concat(i),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.userToken)}});if(200===s.status){let e=await s.json();(t=e)._id=null,t.user=null,!0===this.props.preFill.listenToEvents&&e&&e.properties&&e.properties.stdin&&window.postMessage({eventType:"populateStdinBack",stdin:e.properties.stdin||""},"*")}else console.log("Missing permissions to preload code! id:"+i)}else!0===this.props.preFill.listenToEvents&&window.postMessage({eventType:"populateStdinBack",stdin:""},"*");this.setState({codeTabIndex:0,codeObj:{...t,visibility:this.props.visibility||this.state.codeObj.visibility||"public"}},()=>{this.props.handleNewCodeClick&&this.props.handleNewCodeClick(e)})},this.toggleEditingModel=()=>{this.setState({editingModelOpen:!this.state.editingModelOpen})},this.handleUpdateCode=(e,t,i,s)=>{i||c.A.updateFileNamesAndContent(e,this.state.codeObj.properties.language);let l=e.length<=this.state.codeTabIndex?this.state.codeTabIndex-1:this.state.codeTabIndex;-1===l&&(l=0),s&&(l=e.length-1),this.setState({codeObj:{...this.state.codeObj,properties:{...this.state.codeObj.properties,files:e}},codeTabIndex:l},()=>{t||this.createCodeId(),this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj,"codeUpdate")})},this.handleUpdateCodeMeta=(e,t)=>{this.setState({codeObj:{...this.state.codeObj,[e]:t}},()=>{this.props.handleCodeUpdate&&this.props.handleCodeUpdate(this.state.codeObj)})},this.handleTagsUpdate=e=>{if(e){let t=e.split(",").map(e=>e.trim().toLowerCase());this.setState({codeObj:{...this.state.codeObj,tags:t}})}else this.setState({codeObj:{...this.state.codeObj,tags:[]}})},this.handleCodeVsConsoleSwitch=(e,t)=>{this.setState({codeVsConsoleSwitchValue:t})},this.handleEmbedEvent=this.handleEmbedEvent.bind(this);let s=this.props.preFill||{},l=s.language||"java",n=s.codeObj||{...JSON.parse(JSON.stringify(d[l])),language:l,visibility:this.props.visibility||"public"};if((null==n?void 0:null===(t=n.properties)||void 0===t?void 0:t.result)&&(null===(i=d[l])||void 0===i?void 0:i.languageType)!=="web"){let{success:e,output:t}=c.A.getResult(n.properties.result);n.properties.result={...n.properties.result,success:e,output:t}}this.state={language:l,codeObj:n,languageSelectionModelOpen:!1,imageUploadModelOpen:!1,aiImageGenerationModelOpen:!1,output:null,running:!1,editingModelOpen:!1,creatingCodeId:!1,isServer:!0,codeTabIndex:0,editorSettingsModelOpen:!1,editorReadOnly:!1,codeVsConsoleSwitchValue:"code"}}}let e5=(0,o.Ng)(e=>({loggedInUserObj:e.user,token:e.user.token}),{})(e2)},70362:(e,t,i)=>{i.d(t,{A:()=>g});var s=i(74848),l=i(14953),n=i.n(l),a=i(96540),r=i(26646),o=i(2584),d=i.n(o),c=i(67776),p=i.n(c),h=i(94598);let u=n()(()=>i.e(2245).then(i.bind(i,92245)),{loadableGenerated:{webpack:()=>[92245]},ssr:!1}),g=e=>{let t=(0,h.M)(),[i,l]=(0,a.useState)(null),[n,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{l({code:t=>{let i=Array.isArray(t.children)?t.children[0]:t.children;return t.inline?(0,s.jsx)("code",{children:i}):(0,s.jsx)(u,{language:t.language||t.className,value:i,disableCopyPaste:e.disableCopyPaste})},a:e=>(0,s.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer nofollow",children:e.children})}),o((null==t?void 0:t.theme)==="dark"?"dark":"light")},[null==t?void 0:t.theme]),(0,s.jsx)(r.$,{className:"md-view oc-theme-".concat(n," ").concat(e.disableCopyPaste?"unselectable":""),remarkPlugins:[p(),d()],components:i||{},children:e.markdown||""})}},33650:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(74848),l=i(79219),n=i(62373),a=i(46968);let r=e=>{let t="Public (Everyone)",i="Private (Only You)",r="Unlisted (People with the Link)";return e.channelType&&"org"===e.channelType&&(t="Public (Visible outside of org)",i="Private (Visible only for org members)",r="Unlisted (People outside org with the link)"),e.channelType&&"team"===e.channelType&&(t="Public (Visible outside of team)",i="Private (Visible only for team members)",r="Unlisted (People outside team with the link)"),(0,s.jsxs)(l.A,{variant:e.variant||"outlined",style:{minWidth:e.minWidth||"200"},children:[(0,s.jsx)(n.A,{htmlFor:"visibility-selector",children:"Visibility"}),(0,s.jsxs)(a.A,{native:!0,value:e.value,onChange:t=>{e.onChange(t.target.value)},label:"Visibility",inputProps:{name:"visibility",id:"visibility-selector"},children:[(0,s.jsx)("option",{value:"public",children:t}),(0,s.jsx)("option",{value:"private",children:i}),!e.channelType&&(0,s.jsx)("option",{value:"unlisted",children:r})]})]})}}}]);